#!/bin/sh

branch="dev"

echo "üîç Verificando si tu rama est√° actualizada con $branch..."

# Traemos lo √∫ltimo de dev
git fetch origin $branch

# Comparamos si tu rama est√° atrasada
if ! git merge-base --is-ancestor origin/$branch HEAD; then
  echo "‚ö†Ô∏è Tu rama est√° desactualizada con $branch."
  echo "‚û°Ô∏è Haciendo rebase con origin/$branch..."
  git pull origin $branch --rebase || {
    echo "‚ùå Conflicto al hacer rebase. Resolv√©s y volv√©s a intentar."
    exit 1
  }
fi

echo "‚úÖ Tu rama est√° actualizada con $branch. Procediendo con el commit..."