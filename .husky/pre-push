#!/bin/sh

echo "ğŸ” Archivos en staging..."
STAGED_FILES=$(git diff --name-only --cached)

echo "âœ¨ Formateando..."
npm run format

echo "ğŸ—ï¸ Compilando..."
npm run build || {
  echo "âŒ El build fallÃ³, no se puede pushear."
  exit 1
}

# ğŸ‘‰ Si querÃ©s que re-agregue archivos formateados al commit (opcional)
# for file in $STAGED_FILES; do
#   if [ -f "$file" ]; then
#     git add "$file"
#   fi
# done

echo "âœ… Todo ok, listo para pushear."